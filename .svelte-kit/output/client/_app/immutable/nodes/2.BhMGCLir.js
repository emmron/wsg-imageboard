import{S as Fe,i as Ue,s as Re,n as pe,d as h,F as qe,J as ge,I as be,a as q,b as N,c,K as F,C as v,e as m,f as E,h as y,L as $,g as O,j as p,k as P,t as L,M as Le,o as G,G as ue,H as ve,N as Ze,E as He,m as ce,Z as ht,p as Ae,q as ze,l as Me,U as Ge,_ as el,y as xe,A as et,$ as tl,V as ll,B as tt,z as lt,v as at,D as vt,W as sl,a0 as nl,r as Je}from"../chunks/xePfXsBy.js";import{e as fe,l as _t,s as il,g as mt,c as ot,m as Oe,q as Ke,f as rt,d as Ye,h as we,n as pt,j as je,i as $e,k as Be,u as $t,o as xt}from"../chunks/C_fSQihM.js";import"../chunks/IHki7fMi.js";const al=!1,ol=!1,zl=Object.freeze(Object.defineProperty({__proto__:null,prerender:ol,ssr:al},Symbol.toStringTag,{value:"Module"}));function gt(a,e,t){const l=a.slice();return l[9]=e[t],l}function bt(a,e,t){const l=a.slice();return l[12]=e[t],l}function kt(a){let e,t=fe(a[2]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ct(bt(a,t,s));return{c(){e=p("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=m(s,"DIV",{class:!0});var i=E(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(h),this.h()},h(){v(e,"class","validation-errors svelte-1cj0k7")},m(s,i){N(s,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(s,i){if(i&4){t=fe(s[2]);let n;for(n=0;n<t.length;n+=1){const r=bt(s,t,n);l[n]?l[n].p(r,i):(l[n]=Ct(r),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&h(e),Le(l,s)}}}function Ct(a){let e,t,l=a[12]+"",s;return{c(){e=p("div"),t=L("‚ö† "),s=L(l),this.h()},l(i){e=m(i,"DIV",{class:!0});var n=E(e);t=O(n,"‚ö† "),s=O(n,l),n.forEach(h),this.h()},h(){v(e,"class","error-message svelte-1cj0k7")},m(i,n){N(i,e,n),c(e,t),c(e,s)},p(i,n){n&4&&l!==(l=i[12]+"")&&q(s,l)},d(i){i&&h(e)}}}function Et(a){let e,t=fe(a[3]),l=[];for(let s=0;s<t.length;s+=1)l[s]=Dt(gt(a,t,s));return{c(){e=p("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=m(s,"DIV",{class:!0});var i=E(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(h),this.h()},h(){v(e,"class","validation-warnings svelte-1cj0k7")},m(s,i){N(s,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(s,i){if(i&8){t=fe(s[3]);let n;for(n=0;n<t.length;n+=1){const r=gt(s,t,n);l[n]?l[n].p(r,i):(l[n]=Dt(r),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&h(e),Le(l,s)}}}function Dt(a){let e,t,l=a[9]+"",s;return{c(){e=p("div"),t=L("‚ö† "),s=L(l),this.h()},l(i){e=m(i,"DIV",{class:!0});var n=E(e);t=O(n,"‚ö† "),s=O(n,l),n.forEach(h),this.h()},h(){v(e,"class","warning-message svelte-1cj0k7")},m(i,n){N(i,e,n),c(e,t),c(e,s)},p(i,n){n&8&&l!==(l=i[9]+"")&&q(s,l)},d(i){i&&h(e)}}}function rl(a){let e,t,l,s,i,n,r,o="Anonymous comment - Hash ID will be generated",f,u,_,d=a[0].length+"",g,b,k,D,C=a[1]?"Posting...":"Post Comment",T,j,A,I,z=a[2].length>0&&kt(a),H=a[3].length>0&&Et(a);return{c(){e=p("div"),z&&z.c(),t=P(),H&&H.c(),l=P(),s=p("textarea"),i=P(),n=p("div"),r=p("small"),r.textContent=o,f=P(),u=p("div"),_=p("span"),g=L(d),b=L("/1000"),k=P(),D=p("button"),T=L(C),this.h()},l(V){e=m(V,"DIV",{class:!0});var w=E(e);z&&z.l(w),t=y(w),H&&H.l(w),l=y(w),s=m(w,"TEXTAREA",{placeholder:!0,class:!0}),E(s).forEach(h),i=y(w),n=m(w,"DIV",{class:!0});var U=E(n);r=m(U,"SMALL",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-c057c"&&(r.textContent=o),f=y(U),u=m(U,"DIV",{class:!0});var S=E(u);_=m(S,"SPAN",{class:!0});var X=E(_);g=O(X,d),b=O(X,"/1000"),X.forEach(h),S.forEach(h),k=y(U),D=m(U,"BUTTON",{class:!0});var B=E(D);T=O(B,C),B.forEach(h),U.forEach(h),w.forEach(h),this.h()},h(){v(s,"placeholder","Add a comment... (Press Enter to post, Shift+Enter for new line)"),s.disabled=a[1],v(s,"class","svelte-1cj0k7"),be(s,"error",a[2].length>0),v(r,"class","svelte-1cj0k7"),v(_,"class","char-count svelte-1cj0k7"),be(_,"warning",a[0].length>800),v(u,"class","form-meta svelte-1cj0k7"),D.disabled=j=!a[0].trim()||a[1]||a[2].length>0,v(D,"class","svelte-1cj0k7"),v(n,"class","form-actions svelte-1cj0k7"),v(e,"class","comment-form svelte-1cj0k7")},m(V,w){N(V,e,w),z&&z.m(e,null),c(e,t),H&&H.m(e,null),c(e,l),c(e,s),ge(s,a[0]),c(e,i),c(e,n),c(n,r),c(n,f),c(n,u),c(u,_),c(_,g),c(_,b),c(n,k),c(n,D),c(D,T),A||(I=[F(s,"input",a[8]),F(s,"input",a[4]),F(s,"keypress",a[6]),F(D,"click",a[5])],A=!0)},p(V,[w]){V[2].length>0?z?z.p(V,w):(z=kt(V),z.c(),z.m(e,t)):z&&(z.d(1),z=null),V[3].length>0?H?H.p(V,w):(H=Et(V),H.c(),H.m(e,l)):H&&(H.d(1),H=null),w&2&&(s.disabled=V[1]),w&1&&ge(s,V[0]),w&4&&be(s,"error",V[2].length>0),w&1&&d!==(d=V[0].length+"")&&q(g,d),w&1&&be(_,"warning",V[0].length>800),w&2&&C!==(C=V[1]?"Posting...":"Post Comment")&&q(T,C),w&7&&j!==(j=!V[0].trim()||V[1]||V[2].length>0)&&(D.disabled=j)},i:pe,o:pe,d(V){V&&h(e),z&&z.d(),H&&H.d(),A=!1,qe(I)}}}function fl(a,e,t){let{videoId:l}=e,s="",i=!1,n=[],r=[];function o(){if(!s.trim()){t(2,n=[]),t(3,r=[]);return}const d=_t(s);t(2,n=d.errors),t(3,r=d.warnings)}async function f(){if(!s.trim())return;const d=_t(s);if(!d.valid){t(2,n=d.errors),t(3,r=d.warnings);return}t(1,i=!0);try{const g={id:mt(s),hash:mt(s),text:il(s.trim()),timestamp:Date.now()};ot.update(b=>b.map(k=>k.id===l?{...k,comments:[...k.comments,g]}:k)),t(0,s=""),t(1,i=!1),t(2,n=[]),t(3,r=[])}catch(g){console.error("Failed to post comment:",g),t(1,i=!1)}}function u(d){d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),f())}function _(){s=this.value,t(0,s)}return a.$$set=d=>{"videoId"in d&&t(7,l=d.videoId)},[s,i,n,r,o,f,u,l,_]}class cl extends Fe{constructor(e){super(),Ue(this,e,fl,rl,Re,{videoId:7})}}function It(a,e,t){const l=a.slice();return l[15]=e[t],l}function Tt(a){let e,t='<div class="loading-skeleton svelte-fszpte"><div class="skeleton-pulse svelte-fszpte"></div> <div class="loading-spinner svelte-fszpte"></div></div>',l;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=m(s,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1uaof0p"&&(e.innerHTML=t),this.h()},h(){v(e,"class","thumbnail-loading svelte-fszpte")},m(s,i){N(s,e,i)},i(s){s&&(l||ue(()=>{l=ve(e,rt,{y:10,duration:200}),l.start()}))},o:pe,d(s){s&&h(e)}}}function Vt(a){let e,t="‚ñ∂",l;return{c(){e=p("div"),e.textContent=t,this.h()},l(s){e=m(s,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-18dfits"&&(e.textContent=t),this.h()},h(){v(e,"class","play-icon svelte-fszpte")},m(s,i){N(s,e,i)},i(s){s&&(l||ue(()=>{l=ve(e,we,{duration:200,easing:Ye}),l.start()}))},o:pe,d(s){s&&h(e)}}}function wt(a){let e,t=Nt(a[2])+"",l;return{c(){e=p("div"),l=L(t),this.h()},l(s){e=m(s,"DIV",{class:!0});var i=E(e);l=O(i,t),i.forEach(h),this.h()},h(){v(e,"class","duration-badge svelte-fszpte")},m(s,i){N(s,e,i),c(e,l)},p(s,i){i&4&&t!==(t=Nt(s[2])+"")&&q(l,t)},d(s){s&&h(e)}}}function yt(a){let e,t,l=fe(a[0].tags.slice(0,3)),s=[];for(let n=0;n<l.length;n+=1)s[n]=Pt(It(a,l,n));let i=a[0].tags.length>3&&St(a);return{c(){e=p("div");for(let n=0;n<s.length;n+=1)s[n].c();t=P(),i&&i.c(),this.h()},l(n){e=m(n,"DIV",{class:!0});var r=E(e);for(let o=0;o<s.length;o+=1)s[o].l(r);t=y(r),i&&i.l(r),r.forEach(h),this.h()},h(){v(e,"class","video-tags svelte-fszpte")},m(n,r){N(n,e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);c(e,t),i&&i.m(e,null)},p(n,r){if(r&1){l=fe(n[0].tags.slice(0,3));let o;for(o=0;o<l.length;o+=1){const f=It(n,l,o);s[o]?s[o].p(f,r):(s[o]=Pt(f),s[o].c(),s[o].m(e,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}n[0].tags.length>3?i?i.p(n,r):(i=St(n),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(n){n&&h(e),Le(s,n),i&&i.d()}}}function Pt(a){let e,t=a[15]+"",l;return{c(){e=p("span"),l=L(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var i=E(e);l=O(i,t),i.forEach(h),this.h()},h(){v(e,"class","tag-small svelte-fszpte")},m(s,i){N(s,e,i),c(e,l)},p(s,i){i&1&&t!==(t=s[15]+"")&&q(l,t)},d(s){s&&h(e)}}}function St(a){let e,t,l=a[0].tags.length-3+"",s;return{c(){e=p("span"),t=L("+"),s=L(l),this.h()},l(i){e=m(i,"SPAN",{class:!0});var n=E(e);t=O(n,"+"),s=O(n,l),n.forEach(h),this.h()},h(){v(e,"class","tag-more svelte-fszpte")},m(i,n){N(i,e,n),c(e,t),c(e,s)},p(i,n){n&1&&l!==(l=i[0].tags.length-3+"")&&q(s,l)},d(i){i&&h(e)}}}function ul(a){let e,t,l,s,i,n,r,o,f,u,_,d,g,b,k,D=a[0].comments.length+"",C,T,j,A,I=a[0].title+"",z,H,V,w,U,S=a[0].hash+"",X,B,M,R=Oe(new Date(a[0].timestamp))+"",Z,de,he,_e,x,ie,W=!a[1]&&Tt(),J=a[4]&&Vt(),Y=a[2]>0&&wt(a),ee=a[0].tags.length>0&&yt(a);return{c(){e=p("div"),t=p("div"),l=p("video"),s=p("source"),n=P(),W&&W.c(),r=P(),o=p("div"),J&&J.c(),f=P(),u=p("div"),_=P(),Y&&Y.c(),d=P(),g=p("div"),b=p("span"),k=L("üí¨ "),C=L(D),T=P(),j=p("div"),A=p("h4"),z=L(I),H=P(),V=p("div"),w=p("span"),U=L("#"),X=L(S),B=P(),M=p("span"),Z=L(R),de=P(),ee&&ee.c(),this.h()},l(K){e=m(K,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var Q=E(e);t=m(Q,"DIV",{class:!0});var ae=E(t);l=m(ae,"VIDEO",{preload:!0,class:!0});var Ie=E(l);s=m(Ie,"SOURCE",{src:!0,type:!0}),Ie.forEach(h),n=y(ae),W&&W.l(ae),r=y(ae),o=m(ae,"DIV",{class:!0});var Ee=E(o);J&&J.l(Ee),Ee.forEach(h),f=y(ae),u=m(ae,"DIV",{class:!0}),E(u).forEach(h),_=y(ae),Y&&Y.l(ae),d=y(ae),g=m(ae,"DIV",{class:!0});var Te=E(g);b=m(Te,"SPAN",{class:!0});var ke=E(b);k=O(ke,"üí¨ "),C=O(ke,D),ke.forEach(h),Te.forEach(h),ae.forEach(h),T=y(Q),j=m(Q,"DIV",{class:!0});var te=E(j);A=m(te,"H4",{class:!0});var ye=E(A);z=O(ye,I),ye.forEach(h),H=y(te),V=m(te,"DIV",{class:!0});var Ve=E(V);w=m(Ve,"SPAN",{class:!0});var le=E(w);U=O(le,"#"),X=O(le,S),le.forEach(h),B=y(Ve),M=m(Ve,"SPAN",{class:!0});var se=E(M);Z=O(se,R),se.forEach(h),Ve.forEach(h),de=y(te),ee&&ee.l(te),te.forEach(h),Q.forEach(h),this.h()},h(){Ze(s.src,i=a[0].url)||v(s,"src",i),v(s,"type","video/mp4"),v(l,"preload","metadata"),l.muted=!0,v(l,"class","svelte-fszpte"),v(o,"class","play-overlay svelte-fszpte"),v(u,"class","gradient-overlay svelte-fszpte"),v(b,"class","comment-count svelte-fszpte"),v(g,"class","video-stats svelte-fszpte"),v(t,"class","video-thumbnail svelte-fszpte"),v(A,"class","video-title svelte-fszpte"),v(w,"class","hash svelte-fszpte"),v(M,"class","date"),v(V,"class","video-meta svelte-fszpte"),v(j,"class","video-info svelte-fszpte"),v(e,"class","video-card svelte-fszpte"),v(e,"role","button"),v(e,"tabindex","0"),v(e,"aria-label",he="Play video: "+a[0].title),be(e,"hovered",a[4])},m(K,Q){N(K,e,Q),c(e,t),c(t,l),c(l,s),a[12](l),c(t,n),W&&W.m(t,null),c(t,r),c(t,o),J&&J.m(o,null),c(t,f),c(t,u),c(t,_),Y&&Y.m(t,null),c(t,d),c(t,g),c(g,b),c(b,k),c(b,C),c(e,T),c(e,j),c(j,A),c(A,z),c(j,H),c(j,V),c(V,w),c(w,U),c(w,X),c(V,B),c(V,M),c(M,Z),c(j,de),ee&&ee.m(j,null),a[13](e),x||(ie=[F(l,"loadedmetadata",a[6]),F(e,"click",a[7]),F(e,"keypress",a[8]),F(e,"mouseenter",a[9]),F(e,"mouseleave",a[10])],x=!0)},p(K,[Q]){Q&1&&!Ze(s.src,i=K[0].url)&&v(s,"src",i),K[1]?W&&(W.d(1),W=null):W?Q&2&&G(W,1):(W=Tt(),W.c(),G(W,1),W.m(t,r)),K[4]?J?Q&16&&G(J,1):(J=Vt(),J.c(),G(J,1),J.m(o,null)):J&&(J.d(1),J=null),K[2]>0?Y?Y.p(K,Q):(Y=wt(K),Y.c(),Y.m(t,d)):Y&&(Y.d(1),Y=null),Q&1&&D!==(D=K[0].comments.length+"")&&q(C,D),Q&1&&I!==(I=K[0].title+"")&&q(z,I),Q&1&&S!==(S=K[0].hash+"")&&q(X,S),Q&1&&R!==(R=Oe(new Date(K[0].timestamp))+"")&&q(Z,R),K[0].tags.length>0?ee?ee.p(K,Q):(ee=yt(K),ee.c(),ee.m(j,null)):ee&&(ee.d(1),ee=null),Q&1&&he!==(he="Play video: "+K[0].title)&&v(e,"aria-label",he),Q&16&&be(e,"hovered",K[4])},i(K){G(W),G(J),K&&(_e||ue(()=>{_e=ve(e,rt,{y:20,duration:300,easing:Ke}),_e.start()}))},o:pe,d(K){K&&h(e),a[12](null),W&&W.d(),J&&J.d(),Y&&Y.d(),ee&&ee.d(),a[13](null),x=!1,qe(ie)}}}function Nt(a){if(!a||!isFinite(a))return"0:00";const e=Math.floor(a/60),t=Math.floor(a%60);return`${e}:${t.toString().padStart(2,"0")}`}function dl(a,e,t){let{video:l}=e,{onClick:s=()=>{}}=e,i=!1,n=0,r,o=!1,f,u;function _(){t(1,i=!0),r&&t(2,n=r.duration)}function d(){s(l)}function g(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),s(l))}function b(){t(4,o=!0),u=setTimeout(()=>{r&&o&&t(3,r.currentTime=1,r)},500)}function k(){t(4,o=!1),clearTimeout(u),r&&t(3,r.currentTime=0,r)}function D(T){He[T?"unshift":"push"](()=>{r=T,t(3,r)})}function C(T){He[T?"unshift":"push"](()=>{f=T,t(5,f)})}return a.$$set=T=>{"video"in T&&t(0,l=T.video),"onClick"in T&&t(11,s=T.onClick)},[l,i,n,r,o,f,_,d,g,b,k,s,D,C]}class hl extends Fe{constructor(e){super(),Ue(this,e,dl,ul,Re,{video:0,onClick:11})}}function At(a,e,t){const l=a.slice();return l[18]=e[t],l[20]=t,l}function zt(a,e,t){const l=a.slice();return l[18]=e[t],l[20]=t,l}function Ot(a){let e,t="Clear all filters",l,s;return{c(){e=p("button"),e.textContent=t,this.h()},l(i){e=m(i,"BUTTON",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-7pbl87"&&(e.textContent=t),this.h()},h(){v(e,"class","clear-filters svelte-16y9v7n")},m(i,n){N(i,e,n),l||(s=F(e,"click",a[10]),l=!0)},p:pe,d(i){i&&h(e),l=!1,s()}}}function Lt(a){let e,t,l,s,i,n,r=a[0].length>0&&Mt(a),o=a[7].length>0&&Ft(a);return{c(){e=p("div"),r&&r.c(),t=P(),l=p("div"),o&&o.c(),this.h()},l(f){e=m(f,"DIV",{class:!0});var u=E(e);r&&r.l(u),t=y(u),l=m(u,"DIV",{class:!0});var _=E(l);o&&o.l(_),_.forEach(h),u.forEach(h),this.h()},h(){v(l,"class","active-filters svelte-16y9v7n"),v(e,"class","filters-content svelte-16y9v7n")},m(f,u){N(f,e,u),r&&r.m(e,null),c(e,t),c(e,l),o&&o.m(l,null),n=!0},p(f,u){f[0].length>0?r?r.p(f,u):(r=Mt(f),r.c(),r.m(e,t)):r&&(r.d(1),r=null),f[7].length>0?o?(o.p(f,u),u&128&&G(o,1)):(o=Ft(f),o.c(),G(o,1),o.m(l,null)):o&&(Ae(),ce(o,1,1,()=>{o=null}),ze())},i(f){n||(G(o),f&&ue(()=>{n&&(i&&i.end(1),s=ve(e,pt,{duration:300,easing:Ke}),s.start())}),n=!0)},o(f){ce(o),s&&s.invalidate(),f&&(i=Ge(e,pt,{duration:200})),n=!1},d(f){f&&h(e),r&&r.d(),o&&o.d(),f&&i&&i.end()}}}function Mt(a){let e,t,l="Filter by Tags",s,i,n,r,o=a[0].length>10&&jt(a),f=fe(a[6].slice(0,20)),u=[];for(let d=0;d<f.length;d+=1)u[d]=Ht(zt(a,f,d));let _=a[6].length>20&&Bt(a);return{c(){e=p("div"),t=p("h4"),t.textContent=l,s=P(),o&&o.c(),i=P(),n=p("div");for(let d=0;d<u.length;d+=1)u[d].c();r=P(),_&&_.c(),this.h()},l(d){e=m(d,"DIV",{class:!0});var g=E(e);t=m(g,"H4",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-y7z0kq"&&(t.textContent=l),s=y(g),o&&o.l(g),i=y(g),n=m(g,"DIV",{class:!0});var b=E(n);for(let k=0;k<u.length;k+=1)u[k].l(b);r=y(b),_&&_.l(b),b.forEach(h),g.forEach(h),this.h()},h(){v(t,"class","svelte-16y9v7n"),v(n,"class","tags-grid svelte-16y9v7n"),v(e,"class","tags-section svelte-16y9v7n")},m(d,g){N(d,e,g),c(e,t),c(e,s),o&&o.m(e,null),c(e,i),c(e,n);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(n,null);c(n,r),_&&_.m(n,null)},p(d,g){if(d[0].length>10?o?o.p(d,g):(o=jt(d),o.c(),o.m(e,i)):o&&(o.d(1),o=null),g&704){f=fe(d[6].slice(0,20));let b;for(b=0;b<f.length;b+=1){const k=zt(d,f,b);u[b]?(u[b].p(k,g),G(u[b],1)):(u[b]=Ht(k),u[b].c(),G(u[b],1),u[b].m(n,r))}for(;b<u.length;b+=1)u[b].d(1);u.length=f.length}d[6].length>20?_?_.p(d,g):(_=Bt(d),_.c(),_.m(n,null)):_&&(_.d(1),_=null)},d(d){d&&h(e),o&&o.d(),Le(u,d),_&&_.d()}}}function jt(a){let e,t,l,s;return{c(){e=p("div"),t=p("input"),this.h()},l(i){e=m(i,"DIV",{class:!0});var n=E(e);t=m(n,"INPUT",{type:!0,placeholder:!0,class:!0}),n.forEach(h),this.h()},h(){v(t,"type","text"),v(t,"placeholder","Search tags..."),v(t,"class","svelte-16y9v7n"),v(e,"class","tag-search svelte-16y9v7n")},m(i,n){N(i,e,n),c(e,t),ge(t,a[2]),l||(s=F(t,"input",a[14]),l=!0)},p(i,n){n&4&&t.value!==i[2]&&ge(t,i[2])},d(i){i&&h(e),l=!1,s()}}}function Ht(a){let e,t=a[18]+"",l,s,i,n;function r(){return a[15](a[18])}return{c(){e=p("button"),l=L(t),this.h()},l(o){e=m(o,"BUTTON",{class:!0});var f=E(e);l=O(f,t),f.forEach(h),this.h()},h(){v(e,"class","tag-filter svelte-16y9v7n"),be(e,"active",a[7].includes(a[18]))},m(o,f){N(o,e,f),c(e,l),i||(n=F(e,"click",r),i=!0)},p(o,f){a=o,f&64&&t!==(t=a[18]+"")&&q(l,t),f&192&&be(e,"active",a[7].includes(a[18]))},i(o){o&&(s||ue(()=>{s=ve(e,we,{duration:200,delay:a[20]*20,easing:Ye}),s.start()}))},o:pe,d(o){o&&h(e),i=!1,n()}}}function Bt(a){let e,t,l=a[6].length-20+"",s,i;return{c(){e=p("span"),t=L("+"),s=L(l),i=L(" more..."),this.h()},l(n){e=m(n,"SPAN",{class:!0});var r=E(e);t=O(r,"+"),s=O(r,l),i=O(r," more..."),r.forEach(h),this.h()},h(){v(e,"class","more-tags svelte-16y9v7n")},m(n,r){N(n,e,r),c(e,t),c(e,s),c(e,i)},p(n,r){r&64&&l!==(l=n[6].length-20+"")&&q(s,l)},d(n){n&&h(e)}}}function Ft(a){let e,t="Active Filters",l,s,i,n=[],r=new Map,o,f=fe(a[7]);const u=_=>_[18];for(let _=0;_<f.length;_+=1){let d=At(a,f,_),g=u(d);r.set(g,n[_]=Ut(g,d))}return{c(){e=p("h4"),e.textContent=t,s=P(),i=p("div");for(let _=0;_<n.length;_+=1)n[_].c();this.h()},l(_){e=m(_,"H4",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-ckd4mz"&&(e.textContent=t),s=y(_),i=m(_,"DIV",{class:!0});var d=E(i);for(let g=0;g<n.length;g+=1)n[g].l(d);d.forEach(h),this.h()},h(){v(e,"class","svelte-16y9v7n"),v(i,"class","active-tags svelte-16y9v7n")},m(_,d){N(_,e,d),N(_,s,d),N(_,i,d);for(let g=0;g<n.length;g+=1)n[g]&&n[g].m(i,null);o=!0},p(_,d){d&640&&(f=fe(_[7]),Ae(),n=$t(n,d,u,1,_,f,r,i,xt,Ut,null,At),ze())},i(_){if(!o){_&&(l||ue(()=>{l=ve(e,Be,{duration:200}),l.start()}));for(let d=0;d<f.length;d+=1)G(n[d]);o=!0}},o(_){for(let d=0;d<n.length;d+=1)ce(n[d]);o=!1},d(_){_&&(h(e),h(s),h(i));for(let d=0;d<n.length;d+=1)n[d].d()}}}function Ut(a,e){let t,l=e[18]+"",s,i,n,r,o,f,u,_,d,g,b;function k(){return e[16](e[18])}return{key:a,first:null,c(){t=p("div"),s=L(l),i=P(),n=p("button"),r=L("√ó"),f=P(),this.h()},l(D){t=m(D,"DIV",{class:!0});var C=E(t);s=O(C,l),i=y(C),n=m(C,"BUTTON",{"aria-label":!0,class:!0});var T=E(n);r=O(T,"√ó"),T.forEach(h),f=y(C),C.forEach(h),this.h()},h(){v(n,"aria-label",o="Remove "+e[18]+" filter"),v(n,"class","svelte-16y9v7n"),v(t,"class","active-tag svelte-16y9v7n"),this.first=t},m(D,C){N(D,t,C),c(t,s),c(t,i),c(t,n),c(n,r),c(t,f),d=!0,g||(b=F(n,"click",k),g=!0)},p(D,C){e=D,(!d||C&128)&&l!==(l=e[18]+"")&&q(s,l),(!d||C&128&&o!==(o="Remove "+e[18]+" filter"))&&v(n,"aria-label",o)},i(D){d||(D&&ue(()=>{d&&(_&&_.end(1),u=ve(t,we,{duration:200,delay:e[20]*50,easing:Ye}),u.start())}),d=!0)},o(D){u&&u.invalidate(),D&&(_=Ge(t,we,{duration:150,easing:Ye})),d=!1},d(D){D&&h(t),D&&_&&_.end(),g=!1,b()}}}function vl(a){let e,t,l,s,i,n,r,o,f,u,_,d="Newest first",g,b="Oldest first",k,D="Most comments",C,T="Title A-Z",j,A,I,z=a[4]?"‚ñ≤":"‚ñº",H,V,w,U,S,X,B=(a[7].length>0||a[8])&&Ot(a),M=a[4]&&Lt(a);return{c(){e=p("div"),t=p("div"),l=p("div"),s=p("span"),i=L(a[1]),n=L(" videos"),r=P(),B&&B.c(),o=P(),f=p("div"),u=p("select"),_=p("option"),_.textContent=d,g=p("option"),g.textContent=b,k=p("option"),k.textContent=D,C=p("option"),C.textContent=T,j=P(),A=p("button"),I=L("Filters "),H=L(z),V=P(),M&&M.c(),this.h()},l(R){e=m(R,"DIV",{class:!0});var Z=E(e);t=m(Z,"DIV",{class:!0});var de=E(t);l=m(de,"DIV",{class:!0});var he=E(l);s=m(he,"SPAN",{class:!0});var _e=E(s);i=O(_e,a[1]),n=O(_e," videos"),_e.forEach(h),r=y(he),B&&B.l(he),he.forEach(h),o=y(de),f=m(de,"DIV",{class:!0});var x=E(f);u=m(x,"SELECT",{class:!0});var ie=E(u);_=m(ie,"OPTION",{"data-svelte-h":!0}),$(_)!=="svelte-1qzoiys"&&(_.textContent=d),g=m(ie,"OPTION",{"data-svelte-h":!0}),$(g)!=="svelte-sm28fc"&&(g.textContent=b),k=m(ie,"OPTION",{"data-svelte-h":!0}),$(k)!=="svelte-1i6iwqj"&&(k.textContent=D),C=m(ie,"OPTION",{"data-svelte-h":!0}),$(C)!=="svelte-1a2gplm"&&(C.textContent=T),ie.forEach(h),j=y(x),A=m(x,"BUTTON",{class:!0});var W=E(A);I=O(W,"Filters "),H=O(W,z),W.forEach(h),x.forEach(h),de.forEach(h),V=y(Z),M&&M.l(Z),Z.forEach(h),this.h()},h(){v(s,"class","result-count svelte-16y9v7n"),v(l,"class","results-info svelte-16y9v7n"),_.__value="newest",ge(_,_.__value),g.__value="oldest",ge(g,g.__value),k.__value="most-comments",ge(k,k.__value),C.__value="title",ge(C,C.__value),v(u,"class","sort-select svelte-16y9v7n"),a[3]===void 0&&ue(()=>a[12].call(u)),v(A,"class","toggle-filters svelte-16y9v7n"),be(A,"active",a[4]),v(f,"class","filter-controls svelte-16y9v7n"),v(t,"class","filters-header svelte-16y9v7n"),v(e,"class","search-filters svelte-16y9v7n")},m(R,Z){N(R,e,Z),c(e,t),c(t,l),c(l,s),c(s,i),c(s,n),c(l,r),B&&B.m(l,null),c(t,o),c(t,f),c(f,u),c(u,_),c(u,g),c(u,k),c(u,C),ht(u,a[3],!0),c(f,j),c(f,A),c(A,I),c(A,H),c(e,V),M&&M.m(e,null),a[17](e),U=!0,S||(X=[F(u,"change",a[12]),F(u,"change",a[11]),F(A,"click",a[13])],S=!0)},p(R,[Z]){(!U||Z&2)&&q(i,R[1]),R[7].length>0||R[8]?B?B.p(R,Z):(B=Ot(R),B.c(),B.m(l,null)):B&&(B.d(1),B=null),Z&8&&ht(u,R[3]),(!U||Z&16)&&z!==(z=R[4]?"‚ñ≤":"‚ñº")&&q(H,z),(!U||Z&16)&&be(A,"active",R[4]),R[4]?M?(M.p(R,Z),Z&16&&G(M,1)):(M=Lt(R),M.c(),G(M,1),M.m(e,null)):M&&(Ae(),ce(M,1,1,()=>{M=null}),ze())},i(R){U||(G(M),R&&(w||ue(()=>{w=ve(e,rt,{y:-20,duration:300,easing:Ke}),w.start()})),U=!0)},o(R){ce(M),U=!1},d(R){R&&h(e),B&&B.d(),M&&M.d(),a[17](null),S=!1,qe(X)}}}function _l(a,e,t){let l,s,i;Me(a,je,I=>t(7,s=I)),Me(a,$e,I=>t(8,i=I));let{allTags:n=[]}=e,{videoCount:r=0}=e,o="newest",f=!1,u="",_;function d(I){je.update(z=>z.includes(I)?z.filter(H=>H!==I):[...z,I])}function g(){je.set([]),$e.set(""),t(3,o="newest")}function b(){const I=new CustomEvent("sortChange",{detail:{sortBy:o}});window.dispatchEvent(I)}function k(){o=el(this),t(3,o)}const D=()=>t(4,f=!f);function C(){u=this.value,t(2,u)}const T=I=>d(I),j=I=>d(I);function A(I){He[I?"unshift":"push"](()=>{_=I,t(5,_)})}return a.$$set=I=>{"allTags"in I&&t(0,n=I.allTags),"videoCount"in I&&t(1,r=I.videoCount)},a.$$.update=()=>{a.$$.dirty&5&&t(6,l=n.filter(I=>I.toLowerCase().includes(u.toLowerCase())))},[n,r,u,o,f,_,l,s,i,d,g,b,k,D,C,T,j,A]}class ml extends Fe{constructor(e){super(),Ue(this,e,_l,vl,Re,{allTags:0,videoCount:1})}}function Rt(a,e,t){const l=a.slice();return l[31]=e[t],l}function qt(a,e,t){const l=a.slice();return l[34]=e[t],l}function Kt(a){let e,t='<div class="play-icon svelte-11igb9l">‚ñ∂</div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1neprfp"&&(e.innerHTML=t),this.h()},h(){v(e,"class","play-button svelte-11igb9l")},m(l,s){N(l,e,s)},d(l){l&&h(e)}}}function Qt(a){let e,t,l,s,i,n,r=a[3]?"‚è∏":"‚ñ∂",o,f,u,_=Xe(a[4])+"",d,g,b=Xe(a[5])+"",k,D,C,T,j="üîä",A,I,z,H;return{c(){e=p("div"),t=p("div"),l=p("div"),s=P(),i=p("div"),n=p("button"),o=L(r),f=P(),u=p("span"),d=L(_),g=L(" / "),k=L(b),D=P(),C=p("div"),T=p("span"),T.textContent=j,A=P(),I=p("input"),this.h()},l(V){e=m(V,"DIV",{class:!0});var w=E(e);t=m(w,"DIV",{class:!0});var U=E(t);l=m(U,"DIV",{class:!0,style:!0}),E(l).forEach(h),U.forEach(h),s=y(w),i=m(w,"DIV",{class:!0});var S=E(i);n=m(S,"BUTTON",{class:!0});var X=E(n);o=O(X,r),X.forEach(h),f=y(S),u=m(S,"SPAN",{class:!0});var B=E(u);d=O(B,_),g=O(B," / "),k=O(B,b),B.forEach(h),D=y(S),C=m(S,"DIV",{class:!0});var M=E(C);T=m(M,"SPAN",{class:!0,"data-svelte-h":!0}),$(T)!=="svelte-12kgbbu"&&(T.textContent=j),A=y(M),I=m(M,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),M.forEach(h),S.forEach(h),w.forEach(h),this.h()},h(){v(l,"class","progress-fill svelte-11igb9l"),vt(l,"width",(a[5]?a[4]/a[5]*100:0)+"%"),v(t,"class","progress-bar svelte-11igb9l"),v(n,"class","control-btn svelte-11igb9l"),v(u,"class","time-display svelte-11igb9l"),v(T,"class","volume-icon svelte-11igb9l"),v(I,"type","range"),v(I,"min","0"),v(I,"max","1"),v(I,"step","0.1"),v(I,"class","volume-slider svelte-11igb9l"),v(C,"class","volume-control svelte-11igb9l"),v(i,"class","controls-row svelte-11igb9l"),v(e,"class","video-controls svelte-11igb9l")},m(V,w){N(V,e,w),c(e,t),c(t,l),c(e,s),c(e,i),c(i,n),c(n,o),c(i,f),c(i,u),c(u,d),c(u,g),c(u,k),c(i,D),c(i,C),c(C,T),c(C,A),c(C,I),ge(I,a[6]),z||(H=[F(t,"click",a[11]),F(n,"click",a[9]),F(I,"change",a[21]),F(I,"input",a[21]),F(I,"input",a[12])],z=!0)},p(V,w){w[0]&48&&vt(l,"width",(V[5]?V[4]/V[5]*100:0)+"%"),w[0]&8&&r!==(r=V[3]?"‚è∏":"‚ñ∂")&&q(o,r),w[0]&16&&_!==(_=Xe(V[4])+"")&&q(d,_),w[0]&32&&b!==(b=Xe(V[5])+"")&&q(k,b),w[0]&64&&ge(I,V[6])},d(V){V&&h(e),z=!1,qe(H)}}}function Wt(a){let e,t=fe(a[0].tags),l=[];for(let s=0;s<t.length;s+=1)l[s]=Xt(qt(a,t,s));return{c(){e=p("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=m(s,"DIV",{class:!0});var i=E(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(h),this.h()},h(){v(e,"class","video-tags svelte-11igb9l")},m(s,i){N(s,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(s,i){if(i[0]&1){t=fe(s[0].tags);let n;for(n=0;n<t.length;n+=1){const r=qt(s,t,n);l[n]?l[n].p(r,i):(l[n]=Xt(r),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&h(e),Le(l,s)}}}function Xt(a){let e,t=a[34]+"",l;return{c(){e=p("span"),l=L(t),this.h()},l(s){e=m(s,"SPAN",{class:!0});var i=E(e);l=O(i,t),i.forEach(h),this.h()},h(){v(e,"class","tag svelte-11igb9l")},m(s,i){N(s,e,i),c(e,l)},p(s,i){i[0]&1&&t!==(t=s[34]+"")&&q(l,t)},d(s){s&&h(e)}}}function pl(a){let e,t=fe(a[0].comments),l=[];for(let s=0;s<t.length;s+=1)l[s]=Zt(Rt(a,t,s));return{c(){e=p("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=m(s,"DIV",{class:!0});var i=E(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(h),this.h()},h(){v(e,"class","comments-list svelte-11igb9l")},m(s,i){N(s,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(s,i){if(i[0]&1){t=fe(s[0].comments);let n;for(n=0;n<t.length;n+=1){const r=Rt(s,t,n);l[n]?l[n].p(r,i):(l[n]=Zt(r),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&h(e),Le(l,s)}}}function gl(a){let e,t="No comments yet. Be the first to comment!";return{c(){e=p("p"),e.textContent=t,this.h()},l(l){e=m(l,"P",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-bajudt"&&(e.textContent=t),this.h()},h(){v(e,"class","no-comments svelte-11igb9l")},m(l,s){N(l,e,s)},p:pe,d(l){l&&h(e)}}}function Zt(a){let e,t,l,s,i=a[31].hash+"",n,r,o,f=Oe(new Date(a[31].timestamp))+"",u,_,d,g=a[31].text+"",b,k;return{c(){e=p("div"),t=p("div"),l=p("span"),s=L("#"),n=L(i),r=P(),o=p("span"),u=L(f),_=P(),d=p("p"),b=L(g),k=P(),this.h()},l(D){e=m(D,"DIV",{class:!0});var C=E(e);t=m(C,"DIV",{class:!0});var T=E(t);l=m(T,"SPAN",{class:!0});var j=E(l);s=O(j,"#"),n=O(j,i),j.forEach(h),r=y(T),o=m(T,"SPAN",{class:!0});var A=E(o);u=O(A,f),A.forEach(h),T.forEach(h),_=y(C),d=m(C,"P",{class:!0});var I=E(d);b=O(I,g),I.forEach(h),k=y(C),C.forEach(h),this.h()},h(){v(l,"class","comment-hash svelte-11igb9l"),v(o,"class","comment-date svelte-11igb9l"),v(t,"class","comment-header svelte-11igb9l"),v(d,"class","comment-text svelte-11igb9l"),v(e,"class","comment svelte-11igb9l")},m(D,C){N(D,e,C),c(e,t),c(t,l),c(l,s),c(l,n),c(t,r),c(t,o),c(o,u),c(e,_),c(e,d),c(d,b),c(e,k)},p(D,C){C[0]&1&&i!==(i=D[31].hash+"")&&q(n,i),C[0]&1&&f!==(f=Oe(new Date(D[31].timestamp))+"")&&q(u,f),C[0]&1&&g!==(g=D[31].text+"")&&q(b,g)},d(D){D&&h(e)}}}function bl(a){let e,t,l,s="√ó",i,n,r,o,f,u,_,d,g,b,k,D,C=a[0].title+"",T,j,A,I,z,H=a[0].hash+"",V,w,U,S=Oe(new Date(a[0].timestamp))+"",X,B,M,R,Z=a[0].comments.length+"",de,he,_e,x,ie,W,J=a[0].comments.length+"",Y,ee,K,Q,ae,Ie,Ee,Te,ke,te,ye,Ve,le=!a[3]&&Kt(),se=a[7]&&Qt(a),oe=a[0].tags.length>0&&Wt(a);Q=new cl({props:{videoId:a[0].id}});function ft(ne,re){return ne[0].comments.length===0?gl:pl}let Qe=ft(a),me=Qe(a);return{c(){e=p("div"),t=p("div"),l=p("button"),l.textContent=s,i=P(),n=p("div"),r=p("video"),o=p("source"),u=p("track"),_=P(),d=p("div"),le&&le.c(),g=P(),se&&se.c(),b=P(),k=p("div"),D=p("h3"),T=L(C),j=P(),A=p("div"),I=p("span"),z=L("#"),V=L(H),w=P(),U=p("span"),X=L(S),B=P(),M=p("span"),R=L("üí¨ "),de=L(Z),he=P(),oe&&oe.c(),_e=P(),x=p("div"),ie=p("h4"),W=L("Comments ("),Y=L(J),ee=L(")"),K=P(),lt(Q.$$.fragment),ae=P(),me.c(),this.h()},l(ne){e=m(ne,"DIV",{class:!0,tabindex:!0,role:!0,"aria-modal":!0,"aria-label":!0});var re=E(e);t=m(re,"DIV",{class:!0});var Ce=E(t);l=m(Ce,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),$(l)!=="svelte-1odf5l3"&&(l.textContent=s),i=y(Ce),n=m(Ce,"DIV",{class:!0});var Pe=E(n);r=m(Pe,"VIDEO",{class:!0});var st=E(r);o=m(st,"SOURCE",{src:!0,type:!0}),u=m(st,"TRACK",{kind:!0,label:!0}),st.forEach(h),_=y(Pe),d=m(Pe,"DIV",{class:!0});var ct=E(d);le&&le.l(ct),ct.forEach(h),g=y(Pe),se&&se.l(Pe),Pe.forEach(h),b=y(Ce),k=m(Ce,"DIV",{class:!0});var De=E(k);D=m(De,"H3",{class:!0});var ut=E(D);T=O(ut,C),ut.forEach(h),j=y(De),A=m(De,"DIV",{class:!0});var Se=E(A);I=m(Se,"SPAN",{class:!0});var nt=E(I);z=O(nt,"#"),V=O(nt,H),nt.forEach(h),w=y(Se),U=m(Se,"SPAN",{class:!0});var dt=E(U);X=O(dt,S),dt.forEach(h),B=y(Se),M=m(Se,"SPAN",{class:!0});var it=E(M);R=O(it,"üí¨ "),de=O(it,Z),it.forEach(h),Se.forEach(h),he=y(De),oe&&oe.l(De),_e=y(De),x=m(De,"DIV",{class:!0});var Ne=E(x);ie=m(Ne,"H4",{class:!0});var We=E(ie);W=O(We,"Comments ("),Y=O(We,J),ee=O(We,")"),We.forEach(h),K=y(Ne),tt(Q.$$.fragment,Ne),ae=y(Ne),me.l(Ne),Ne.forEach(h),De.forEach(h),Ce.forEach(h),re.forEach(h),this.h()},h(){v(l,"class","close-btn svelte-11igb9l"),v(l,"aria-label","Close video"),Ze(o.src,f=a[0].url)||v(o,"src",f),v(o,"type","video/mp4"),v(u,"kind","captions"),v(u,"label","No captions available"),r.autoplay=!0,r.controls=!1,v(r,"class","svelte-11igb9l"),v(d,"class","video-overlay svelte-11igb9l"),v(n,"class","video-player svelte-11igb9l"),v(D,"class","svelte-11igb9l"),v(I,"class","hash svelte-11igb9l"),v(U,"class","date svelte-11igb9l"),v(M,"class","comments-count svelte-11igb9l"),v(A,"class","video-meta svelte-11igb9l"),v(ie,"class","svelte-11igb9l"),v(x,"class","comments-section svelte-11igb9l"),v(k,"class","video-details svelte-11igb9l"),v(t,"class","modal-content svelte-11igb9l"),v(e,"class","video-modal svelte-11igb9l"),v(e,"tabindex","-1"),v(e,"role","dialog"),v(e,"aria-modal","true"),v(e,"aria-label","Video player modal")},m(ne,re){N(ne,e,re),c(e,t),c(t,l),c(t,i),c(t,n),c(n,r),c(r,o),c(r,u),a[17](r),c(n,_),c(n,d),le&&le.m(d,null),c(n,g),se&&se.m(n,null),c(t,b),c(t,k),c(k,D),c(D,T),c(k,j),c(k,A),c(A,I),c(I,z),c(I,V),c(A,w),c(A,U),c(U,X),c(A,B),c(A,M),c(M,R),c(M,de),c(k,he),oe&&oe.m(k,null),c(k,_e),c(k,x),c(x,ie),c(ie,W),c(ie,Y),c(ie,ee),c(x,K),et(Q,x,null),c(x,ae),me.m(x,null),a[22](e),te=!0,ye||(Ve=[F(window,"keydown",a[14]),F(l,"click",function(){tl(a[1])&&a[1].apply(this,arguments)}),F(r,"timeupdate",a[10]),F(r,"loadedmetadata",a[10]),F(r,"play",a[18]),F(r,"pause",a[19]),F(r,"ended",a[20]),F(d,"click",a[9]),F(t,"click",ll(a[16])),F(e,"click",a[15]),F(e,"mousemove",a[13])],ye=!0)},p(ne,re){a=ne,(!te||re[0]&1&&!Ze(o.src,f=a[0].url))&&v(o,"src",f),a[3]?le&&(le.d(1),le=null):le||(le=Kt(),le.c(),le.m(d,null)),a[7]?se?se.p(a,re):(se=Qt(a),se.c(),se.m(n,null)):se&&(se.d(1),se=null),(!te||re[0]&1)&&C!==(C=a[0].title+"")&&q(T,C),(!te||re[0]&1)&&H!==(H=a[0].hash+"")&&q(V,H),(!te||re[0]&1)&&S!==(S=Oe(new Date(a[0].timestamp))+"")&&q(X,S),(!te||re[0]&1)&&Z!==(Z=a[0].comments.length+"")&&q(de,Z),a[0].tags.length>0?oe?oe.p(a,re):(oe=Wt(a),oe.c(),oe.m(k,_e)):oe&&(oe.d(1),oe=null),(!te||re[0]&1)&&J!==(J=a[0].comments.length+"")&&q(Y,J);const Ce={};re[0]&1&&(Ce.videoId=a[0].id),Q.$set(Ce),Qe===(Qe=ft(a))&&me?me.p(a,re):(me.d(1),me=Qe(a),me&&(me.c(),me.m(x,null)))},i(ne){te||(G(Q.$$.fragment,ne),ne&&ue(()=>{te&&(Ee&&Ee.end(1),Ie=ve(t,we,{duration:300,easing:Ke}),Ie.start())}),ne&&ue(()=>{te&&(ke&&ke.end(1),Te=ve(e,Be,{duration:200}),Te.start())}),te=!0)},o(ne){ce(Q.$$.fragment,ne),Ie&&Ie.invalidate(),ne&&(Ee=Ge(t,we,{duration:200,start:.95})),Te&&Te.invalidate(),ne&&(ke=Ge(e,Be,{duration:150})),te=!1},d(ne){ne&&h(e),a[17](null),le&&le.d(),se&&se.d(),oe&&oe.d(),xe(Q),me.d(),ne&&Ee&&Ee.end(),a[22](null),ne&&ke&&ke.end(),ye=!1,qe(Ve)}}}function Xe(a){if(!a||!isFinite(a))return"0:00";const e=Math.floor(a/60),t=Math.floor(a%60);return`${e}:${t.toString().padStart(2,"0")}`}function kl(a,e,t){let{video:l}=e,{onClose:s=()=>{}}=e,i,n=!1,r=0,o=0,f=1,u=!0,_,d;at(()=>(d&&d.focus(),document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}));function g(){i&&(i.paused?(i.play(),t(3,n=!0)):(i.pause(),t(3,n=!1)))}function b(){i&&(t(4,r=i.currentTime),t(5,o=i.duration))}function k(S){if(i&&o){const X=S.target.getBoundingClientRect(),B=(S.clientX-X.left)/X.width;t(2,i.currentTime=B*o,i)}}function D(S){const X=parseFloat(S.target.value);t(6,f=X),i&&t(2,i.volume=X,i)}function C(){t(7,u=!0),clearTimeout(_),_=setTimeout(()=>{n&&t(7,u=!1)},3e3)}function T(S){switch(S.key){case" ":S.preventDefault(),g();break;case"Escape":s();break;case"ArrowLeft":i&&t(2,i.currentTime-=10,i);break;case"ArrowRight":i&&t(2,i.currentTime+=10,i);break}}function j(S){S.target===S.currentTarget&&s()}function A(S){sl.call(this,a,S)}function I(S){He[S?"unshift":"push"](()=>{i=S,t(2,i)})}const z=()=>t(3,n=!0),H=()=>t(3,n=!1),V=()=>t(3,n=!1);function w(){f=nl(this.value),t(6,f)}function U(S){He[S?"unshift":"push"](()=>{d=S,t(8,d)})}return a.$$set=S=>{"video"in S&&t(0,l=S.video),"onClose"in S&&t(1,s=S.onClose)},[l,s,i,n,r,o,f,u,d,g,b,k,D,C,T,j,A,I,z,H,V,w,U]}class Cl extends Fe{constructor(e){super(),Ue(this,e,kl,bl,Re,{video:0,onClose:1},null,[-1,-1])}}function Gt(a,e,t){const l=a.slice();return l[13]=e[t],l}function El(a){let e,t=[],l=new Map,s,i,n=fe(a[0]);const r=o=>o[13].id;for(let o=0;o<n.length;o+=1){let f=Gt(a,n,o),u=r(f);l.set(u,t[o]=Jt(u,f))}return{c(){e=p("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=m(o,"DIV",{class:!0});var f=E(e);for(let u=0;u<t.length;u+=1)t[u].l(f);f.forEach(h),this.h()},h(){v(e,"class","videos-grid svelte-pu3nf5")},m(o,f){N(o,e,f);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);i=!0},p(o,f){f&17&&(n=fe(o[0]),Ae(),t=$t(t,f,r,1,o,n,l,e,xt,Jt,null,Gt),ze())},i(o){if(!i){for(let f=0;f<n.length;f+=1)G(t[f]);o&&(s||ue(()=>{s=ve(e,Be,{duration:300,delay:100}),s.start()})),i=!0}},o(o){for(let f=0;f<t.length;f+=1)ce(t[f]);i=!1},d(o){o&&h(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function Dl(a){let e,t;function l(n,r){return n[3].length===0?Vl:Tl}let s=l(a),i=s(a);return{c(){e=p("div"),i.c(),this.h()},l(n){e=m(n,"DIV",{class:!0});var r=E(e);i.l(r),r.forEach(h),this.h()},h(){v(e,"class","empty-state svelte-pu3nf5")},m(n,r){N(n,e,r),i.m(e,null)},p(n,r){s!==(s=l(n))&&(i.d(1),i=s(n),i&&(i.c(),i.m(e,null)))},i(n){n&&(t||ue(()=>{t=ve(e,we,{duration:300,easing:Ke}),t.start()}))},o:pe,d(n){n&&h(e),i.d()}}}function Il(a){let e,t='<div class="loading-spinner svelte-pu3nf5"></div> <p>Loading videos...</p>',l;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(s){e=m(s,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-7mjswp"&&(e.innerHTML=t),this.h()},h(){v(e,"class","loading-state svelte-pu3nf5")},m(s,i){N(s,e,i)},p:pe,i(s){s&&(l||ue(()=>{l=ve(e,Be,{duration:200}),l.start()}))},o:pe,d(s){s&&h(e)}}}function Jt(a,e){let t,l,s;return l=new hl({props:{video:e[13],onClick:e[4]}}),{key:a,first:null,c(){t=Je(),lt(l.$$.fragment),this.h()},l(i){t=Je(),tt(l.$$.fragment,i),this.h()},h(){this.first=t},m(i,n){N(i,t,n),et(l,i,n),s=!0},p(i,n){e=i;const r={};n&1&&(r.video=e[13]),l.$set(r)},i(i){s||(G(l.$$.fragment,i),s=!0)},o(i){ce(l.$$.fragment,i),s=!1},d(i){i&&h(t),xe(l,i)}}}function Tl(a){let e,t="üîç",l,s,i="No videos found",n,r,o="Try adjusting your search or filters";return{c(){e=p("div"),e.textContent=t,l=P(),s=p("h2"),s.textContent=i,n=P(),r=p("p"),r.textContent=o,this.h()},l(f){e=m(f,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-c8icig"&&(e.textContent=t),l=y(f),s=m(f,"H2",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-hmv66t"&&(s.textContent=i),n=y(f),r=m(f,"P",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-67nqvj"&&(r.textContent=o),this.h()},h(){v(e,"class","empty-icon svelte-pu3nf5"),v(s,"class","svelte-pu3nf5"),v(r,"class","svelte-pu3nf5")},m(f,u){N(f,e,u),N(f,l,u),N(f,s,u),N(f,n,u),N(f,r,u)},d(f){f&&(h(e),h(l),h(s),h(n),h(r))}}}function Vl(a){let e,t="üìπ",l,s,i="No videos yet",n,r,o="Be the first to upload a video!";return{c(){e=p("div"),e.textContent=t,l=P(),s=p("h2"),s.textContent=i,n=P(),r=p("p"),r.textContent=o,this.h()},l(f){e=m(f,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1fgb77w"&&(e.textContent=t),l=y(f),s=m(f,"H2",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1h9xrur"&&(s.textContent=i),n=y(f),r=m(f,"P",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-ix9gk1"&&(r.textContent=o),this.h()},h(){v(e,"class","empty-icon svelte-pu3nf5"),v(s,"class","svelte-pu3nf5"),v(r,"class","svelte-pu3nf5")},m(f,u){N(f,e,u),N(f,l,u),N(f,s,u),N(f,n,u),N(f,r,u)},d(f){f&&(h(e),h(l),h(s),h(n),h(r))}}}function Yt(a){let e,t;return e=new Cl({props:{video:a[2],onClose:a[5]}}),{c(){lt(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,s){et(e,l,s),t=!0},p(l,s){const i={};s&4&&(i.video=l[2]),e.$set(i)},i(l){t||(G(e.$$.fragment,l),t=!0)},o(l){ce(e.$$.fragment,l),t=!1},d(l){xe(e,l)}}}function wl(a){let e,t,l,s,i,n,r,o,f;t=new ml({props:{allTags:a[1],videoCount:a[0].length}});const u=[Il,Dl,El],_=[];function d(b,k){return b[0].length===0?1:2}i=d(a),n=_[i]=u[i](a);let g=a[2]&&Yt(a);return{c(){e=p("div"),lt(t.$$.fragment),l=P(),s=p("div"),n.c(),r=P(),g&&g.c(),o=Je(),this.h()},l(b){e=m(b,"DIV",{class:!0});var k=E(e);tt(t.$$.fragment,k),l=y(k),s=m(k,"DIV",{class:!0});var D=E(s);n.l(D),D.forEach(h),k.forEach(h),r=y(b),g&&g.l(b),o=Je(),this.h()},h(){v(s,"class","videos-section"),v(e,"class","container svelte-pu3nf5")},m(b,k){N(b,e,k),et(t,e,null),c(e,l),c(e,s),_[i].m(s,null),N(b,r,k),g&&g.m(b,k),N(b,o,k),f=!0},p(b,[k]){const D={};k&2&&(D.allTags=b[1]),k&1&&(D.videoCount=b[0].length),t.$set(D);let C=i;i=d(b),i===C?_[i].p(b,k):(Ae(),ce(_[C],1,1,()=>{_[C]=null}),ze(),n=_[i],n?n.p(b,k):(n=_[i]=u[i](b),n.c()),G(n,1),n.m(s,null)),b[2]?g?(g.p(b,k),k&4&&G(g,1)):(g=Yt(b),g.c(),G(g,1),g.m(o.parentNode,o)):g&&(Ae(),ce(g,1,1,()=>{g=null}),ze())},i(b){f||(G(t.$$.fragment,b),G(n),G(g),f=!0)},o(b){ce(t.$$.fragment,b),ce(n),ce(g),f=!1},d(b){b&&(h(e),h(r),h(o)),xe(t),_[i].d(),g&&g.d(b)}}}function yl(a,e){const t=[...a];switch(e){case"newest":return t.sort((l,s)=>s.timestamp-l.timestamp);case"oldest":return t.sort((l,s)=>l.timestamp-s.timestamp);case"most-comments":return t.sort((l,s)=>s.comments.length-l.comments.length);case"title":return t.sort((l,s)=>l.title.localeCompare(s.title));default:return t}}function Pl(a,e,t){let l,s,i;Me(a,je,k=>t(7,l=k)),Me(a,$e,k=>t(8,s=k)),Me(a,ot,k=>t(3,i=k));let n=[],r=[],o=null,f="newest";at(()=>{const k=ot.subscribe(T=>{u(T,s,l),_(T)}),D=$e.subscribe(T=>{u(i,T,l)}),C=je.subscribe(T=>{u(i,s,T)});return()=>{k(),D(),C()}});function u(k,D,C){let T=k.filter(j=>{const A=!D||j.title.toLowerCase().includes(D.toLowerCase())||j.tags.some(z=>z.toLowerCase().includes(D.toLowerCase())),I=C.length===0||C.every(z=>j.tags.includes(z));return A&&I});T=yl(T,f),t(0,n=T)}function _(k){const D=new Set;k.forEach(C=>{C.tags.forEach(T=>D.add(T))}),t(1,r=Array.from(D).sort())}function d(k){t(2,o=k)}function g(){t(2,o=null)}function b(k){f=k.detail.sortBy,u(i,s,l)}return at(()=>(window.addEventListener("sortChange",b),()=>{window.removeEventListener("sortChange",b)})),[n,r,o,i,d,g]}class Ol extends Fe{constructor(e){super(),Ue(this,e,Pl,wl,Re,{})}}export{Ol as component,zl as universal};
